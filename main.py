from base_api import (Base_Api)

if __name__ == "__main__":
    api = Base_Api("https://www.mtggoldfish.com/sets","Sealed#paper")
    response = api.make_get_request("Wilds+of+Eldraine")
    print(response.text)
    # response = '<table class="card-container-table table table-striped table-sm"><thead><tr><th class="text-right">Card Num<!-- --> <i data-value="card_num" class="card-container-column-sort fas fa-sort"></i></th><th class="text-left">Card<!-- --> <i data-value="name" class="card-container-column-sort fas fa-sort"></i></th><th class="text-left">Mana Cost</th><th class="text-left">Rarity<!-- --> <i data-value="rarity" class="card-container-column-sort fas fa-sort"></i></th><th class="text-right">Tabletop Price<!-- --> <i data-value="price_paper" class="card-container-column-sort fas fa-sort"></i></th><th class="text-right">Daily Δ<!-- --> <i data-value="dod_delta_paper" class="card-container-column-sort fas fa-sort"></i></th><th class="text-right">Daily %<!-- --> <i data-value="dod_pct_paper" class="card-container-column-sort fas fa-sort"></i></th><th class="text-right">Weekly Δ<!-- --> <i data-value="wow_delta_paper" class="card-container-column-sort fas fa-sort"></i></th><th class="text-right">Weekly %<!-- --> <i data-value="wow_pct_paper" class="card-container-column-sort fas fa-sort"></i></th></tr></thead><tbody><tr><td class="card-container-column-filter"><input type="text" data-filter-key="card_num" class="form-control" placeholder="Filter ..."/></td><td class="card-container-column-filter"><input type="text" data-filter-key="name" class="form-control" placeholder="Filter ..."/></td><td class="card-container-column-filter"></td><td><select data-filter-key="rarity" class="form-control"><option value=""></option><option value="Basic">Basic</option><option value="Common">Common</option><option value="Uncommon">Uncommon</option><option value="Rare">Rare</option><option value="Mythic">Mythic</option><option value="Special">Special</option></select></td><td class="card-container-column-filter"><input type="text" data-filter-key="price_paper" class="form-control" placeholder="Filter ..."/></td><td class="card-container-column-filter"><input type="text" data-filter-key="dod_delta_paper" class="form-control" placeholder="Filter ..."/></td><td class="card-container-column-filter"><input type="text" data-filter-key="dod_pct_paper" class="form-control" placeholder="Filter ..."/></td><td class="card-container-column-filter"><input type="text" data-filter-key="wow_delta_paper" class="form-control" placeholder="Filter ..."/></td><td class="card-container-column-filter"><input type="text" data-filter-key="wow_pct_paper" class="form-control" placeholder="Filter ..."/></td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Bundle &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BBundle%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Bundle-sealed">Wilds of Eldraine Bundle</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa045.00</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td><td class="text-right">$\xa0-1.71</td><td class="text-right">-4%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Collector Booster Box &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BCollector%2BBooster%2BBox%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Collector+Booster+Box-sealed">Wilds of Eldraine Collector Booster Box</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa0230.04</td><td class="text-right">$\xa00.05</td><td class="text-right">0%</td><td class="text-right">$\xa00.05</td><td class="text-right">0%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Collector Booster Pack &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BCollector%2BBooster%2BPack%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Collector+Booster+Pack-sealed">Wilds of Eldraine Collector Booster Pack</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa024.99</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Commander Deck: Fae Dominion &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BCommander%2BDeck%253A%2BFae%2BDominion%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Commander+Deck+Fae+Dominion-sealed">Wilds of Eldraine Commander Deck: Fae Dominion</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right"></td><td class="text-right"></td><td class="text-right"></td><td class="text-right"></td><td class="text-right"></td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Commander Deck: Virtue and Valor &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BCommander%2BDeck%253A%2BVirtue%2Band%2BValor%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Commander+Deck+Virtue+and+Valor-sealed">Wilds of Eldraine Commander Deck: Virtue and Valor</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right"></td><td class="text-right"></td><td class="text-right"></td><td class="text-right"></td><td class="text-right"></td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Draft Booster Box &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BDraft%2BBooster%2BBox%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Draft+Booster+Box-sealed">Wilds of Eldraine Draft Booster Box</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa0115.00</td><td class="text-right">$\xa0-0.90</td><td class="text-right">-1%</td><td class="text-right">$\xa0-3.77</td><td class="text-right">-3%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Draft Booster Pack &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BDraft%2BBooster%2BPack%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Draft+Booster+Pack-sealed">Wilds of Eldraine Draft Booster Pack</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa04.43</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td><td class="text-right">$\xa0-0.06</td><td class="text-right">-1%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Prerelease Pack &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BPrerelease%2BPack%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Prerelease+Pack-sealed">Wilds of Eldraine Prerelease Pack</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa025.00</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td><td class="text-right">$\xa0-0.21</td><td class="text-right">-1%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Set Booster Box &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BSet%2BBooster%2BBox%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Set+Booster+Box-sealed">Wilds of Eldraine Set Booster Box</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa0129.99</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td><td class="text-right">$\xa00.00</td><td class="text-right">0%</td></tr><tr><td class="text-right"></td><td><span class="card_name"><a data-card-id="Wilds of Eldraine Set Booster Pack &lt;sealed&gt; [WOE]" data-full-image="https://cdn1.mtggoldfish.com/images/gf/Wilds%2Bof%2BEldraine%2BSet%2BBooster%2BPack%2B%253Csealed%253E%2B%255BWOE%255D.jpg" rel="popover" href="/price/Wilds+of+Eldraine/Wilds+of+Eldraine+Set+Booster+Pack-sealed">Wilds of Eldraine Set Booster Pack</a><span class="badge badge-variation">Sealed</span></span></td><td><div></div></td><td></td><td class="text-right">$\xa05.77</td><td class="text-right">$\xa00.21</td><td class="text-right">4%</td><td class="text-right">$\xa00.14</td><td class="text-right">2%</td></tr></tbody></table>'
    tables = Base_Api.find_tables(response.text)
    parsed_tables = Base_Api.parse_table(tables[0])
    print(parsed_tables)